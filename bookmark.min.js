javascript:const coverLetterText="Добрый день! Рассмотрите, пожалуйста!",errors=[],withCoverLetter=[],alreadyResponded=[],addedToBlacklist=[],alreadyAddedToBlacklist=[],log=(...e)=>console.log({errors,withCoverLetter,alreadyResponded,addedToBlacklist,alreadyAddedToBlacklist},...e),triggerInputChange=(e,t="")=>{let r=[window.HTMLInputElement,window.HTMLSelectElement,window.HTMLTextAreaElement,];if(r.indexOf(e.__proto__.constructor)>-1){let a=Object.getOwnPropertyDescriptor(e.__proto__,"value").set,o=new Event("input",{bubbles:!0});a.call(e,t),e.dispatchEvent(o)}},wait=(e=100)=>new Promise(t=>setTimeout(t,e)),prevLoc=window.location.href;navigation.addEventListener("navigate",e=>{console.error("GO BACK",e.destination.url),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),window.location.href=prevLoc}),Object.freeze(document.location);const runTasks=async()=>{let e=document.querySelectorAll(".serp-item");for(let[t,r]of e.entries()){r.scrollIntoView({behavior:"smooth",block:"center"}),r.style.boxShadow="0 0 5px red";let a=r.querySelector(".serp-item__title")?.innerText,o=r.querySelector(".serp-item__title")?.href,l=r.querySelector(".bloko-button_kind-success");if(["Respond","Откликнуться"].includes(l?.innerText)){log(t,"RESPOND",r),l.click(),await wait(2e3),document.querySelector(".bloko-modal-footer .bloko-button_kind-success")?.click();let i=document.querySelector("[data-qa=vacancy-response-popup-form-letter-input]");i&&(triggerInputChange(i,"Добрый день! Рассмотрите, пожалуйста!"),withCoverLetter.push({title:a,href:o})),document.querySelector(".bloko-modal-footer .bloko-button_kind-primary")?.click(),await wait(1111);let c=document.querySelector(".vacancy-response-popup-error")?.innerText;if(c){errors.push({title:a,href:o,error:c}),document.querySelector("[data-qa=vacancy-response-popup-close-button]")?.click();continue}}else alreadyResponded.push({title:a,href:o}),log(t,"already RESPONDED",r);await wait(100);let n=r.querySelector("[data-qa=vacancy__blacklist-show-add]");n?(n.click(),await wait(100),document.querySelector("[data-qa=vacancy__blacklist-menu-add-vacancy]").click(),addedToBlacklist.push({title:a,href:o}),log(t,"TO BLACK LIST",r)):(alreadyAddedToBlacklist.push({title:a,href:o}),log(t,"already blacklisted",r)),await wait(1e3),r.style.boxShadow=""}let s=document.querySelector('[data-qa="pager-next"]');s&&(s.click(),await wait(4e3),runTasks(),log("GO TO NEXT PAGE"))};runTasks();